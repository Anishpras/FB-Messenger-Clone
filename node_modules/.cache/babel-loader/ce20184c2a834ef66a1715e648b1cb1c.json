{"ast":null,"code":"import _slicedToArray from\"/Users/anishpras/Desktop/Facebook-messenger-clone/facebook-messenger-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Button,FormControl,InputLabel,Input}from'@material-ui/core';import'./App.css';import Message from'./Message';import db from'./firebase';import firebase from\"firebase\";import FlipMove from\"react-flip-move\";import SendIcon from'@material-ui/icons/Send';import{IconButton}from'@material-ui/core';function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),messages=_useState4[0],setMesseges=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),username=_useState6[0],setUsername=_useState6[1];useEffect(function(){db.collection('messages').orderBy('timestamp','desc').onSnapshot(function(snapshot){setMesseges(snapshot.docs.map(function(doc){return{id:doc.id,message:doc.data()};}));});},[]);useEffect(function(){setUsername(prompt(\"Please Enter Your Name\"));},[]);var sendMessage=function sendMessage(event){// All the logic goes here for sending message\nevent.preventDefault();db.collection('messages').add({message:input,username:username,timestamp:firebase.firestore.FieldValue.serverTimestamp()});setInput('');};return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"img\",{src:\"https://scontent.fpat5-1.fna.fbcdn.net/v/t39.8562-6/37794079_285442762012286_2170626851641229312_n.png?_nc_cat=1&_nc_sid=6825c5&_nc_ohc=Rdi1TWbWwyoAX-cimDm&_nc_ht=scontent.fpat5-1.fna&oh=f83c41b657df9aba926cc05eca11851f&oe=5F81D70C\"}),/*#__PURE__*/React.createElement(\"h1\",null,\"Hello everyone.\"),/*#__PURE__*/React.createElement(\"h2\",null,\"Welcome \",username),/*#__PURE__*/React.createElement(\"form\",{className:\"app__form\"},/*#__PURE__*/React.createElement(FormControl,{className:\"app__formControl\"},/*#__PURE__*/React.createElement(Input,{className:\"app__input\",placeholder:\"Enter your message...\",value:input,onChange:function onChange(event){return setInput(event.target.value);}}),/*#__PURE__*/React.createElement(IconButton,{className:\"app__iconButton\",disabled:!input,variant:\"contained\",color:\"primary\",type:\"submit\",onClick:sendMessage},/*#__PURE__*/React.createElement(SendIcon,null)))),/*#__PURE__*/React.createElement(FlipMove,null,messages.map(function(_ref){var id=_ref.id,message=_ref.message;return/*#__PURE__*/React.createElement(Message,{key:id,username:username,message:message});})));}export default App;","map":{"version":3,"sources":["/Users/anishpras/Desktop/Facebook-messenger-clone/facebook-messenger-clone/src/App.js"],"names":["React","useState","useEffect","Button","FormControl","InputLabel","Input","Message","db","firebase","FlipMove","SendIcon","IconButton","App","input","setInput","messages","setMesseges","username","setUsername","collection","orderBy","onSnapshot","snapshot","docs","map","doc","id","message","data","prompt","sendMessage","event","preventDefault","add","timestamp","firestore","FieldValue","serverTimestamp","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { Button, FormControl, InputLabel, Input } from '@material-ui/core';\nimport './App.css';\nimport Message from './Message';\nimport db from './firebase';\nimport firebase from \"firebase\";\nimport FlipMove from \"react-flip-move\";\nimport SendIcon from '@material-ui/icons/Send';\nimport { IconButton } from '@material-ui/core';\n\nfunction App() {\n\n  const [input, setInput] = useState('');\n  const [messages, setMesseges] = useState([]);\n  const [username, setUsername] = useState('');\n\n\n  useEffect(() => {\n      db.collection('messages').orderBy('timestamp', 'desc').onSnapshot(snapshot =>{\n        setMesseges(snapshot.docs.map(doc => ({ id : doc.id, message: doc.data()})))\n      });\n  }, [])\n\n\n  useEffect(() => {\n  \n   setUsername(prompt(\"Please Enter Your Name\"));\n    \n  }, [])\n\n  const sendMessage = (event) => {\n    // All the logic goes here for sending message\n    event.preventDefault();\n   db.collection('messages').add({\n     message : input ,\n     username : username,\n     timestamp : firebase.firestore.FieldValue.serverTimestamp()\n\n   });\n    setInput('');\n\n  }\n  \n  \n  \n  \n  \n  \n  return (\n    <div className=\"App\">\n    <img src=\"https://scontent.fpat5-1.fna.fbcdn.net/v/t39.8562-6/37794079_285442762012286_2170626851641229312_n.png?_nc_cat=1&_nc_sid=6825c5&_nc_ohc=Rdi1TWbWwyoAX-cimDm&_nc_ht=scontent.fpat5-1.fna&oh=f83c41b657df9aba926cc05eca11851f&oe=5F81D70C\"/>\n     <h1>Hello everyone.</h1>\n     <h2>Welcome {username}</h2>\n     <form className=\"app__form\">\n       <FormControl className=\"app__formControl\"> \n        <Input className=\"app__input\" placeholder=\"Enter your message...\" value={input} onChange={event => setInput(event.target.value)}  />\n\n        <IconButton className=\"app__iconButton\"  disabled={!input} variant='contained' color='primary' type='submit' onClick={sendMessage}>\n        <SendIcon/>\n        </IconButton>\n       </FormControl>\n     </form>\n     <FlipMove>\n     {\n       messages.map(({id, message})=>(\n         <Message  key={id} username={username} message={message} />\n        \n       )\n     \n\n       )}\n      </FlipMove>\n\n\n\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}